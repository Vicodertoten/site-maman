---
import MainLayout from '../layouts/MainLayout.astro';
import Section from '../components/Section.astro';
import PageHero from '../components/PageHero.astro';
import { getLocationsData } from '../lib/sanity';

const locations = await getLocationsData();
const companyLocation = locations.find((location) => location?.type === 'societe') || null;

const serviceOffers = [
  {
    name: 'Location du lieu',
    price: 400,
    priceSuffix: 'HTVA (21%)',
    scope: 'Journée et/ou soirée avec pauses café/thé, eau plate et pétillante, collations'
  },
  {
    name: 'Restauration midi',
    price: 25,
    priceSuffix: 'à partir de / pers.',
    scope: 'Lunch de saison préparé par nos soins'
  },
  {
    name: 'Restauration soir',
    price: 50,
    priceSuffix: 'à partir de / pers.',
    scope: 'Dîner de saison (minimum 8 pers)'
  },
  {
    name: 'Ateliers cuisine (2h)',
    price: 65,
    priceSuffix: 'à partir de / pers.',
    scope: 'Selon le menu, en complément de votre journée'
  }
];

const placeHighlights = [
  {
    title: 'Cadre inspirant',
    text: 'Un cadre naturel pour des réunions plus concentrées et des échanges de qualité.'
  },
  {
    title: 'Confort et praticité',
    text: 'Cuisine équipée, parking facile, accès rapide depuis Bruxelles (1 minute de la E411).'
  },
  {
    title: 'Prestations sur mesure',
    text: 'Formats flexibles: réunion, team building, déjeuner, dîner.'
  },
  {
    title: 'Services supplémentaires',
    text: 'Activités en option: ateliers, balade comestible, conférences alimentation santé.'
  }
];

const activityOffers = [
  {
    name: 'Conférence',
    duration: '2h',
    priceLabel: '250€'
  },
  {
    name: 'Balade comestible',
    duration: '1h',
    priceLabel: '125€'
  },
  {
    name: 'Atelier cuisine',
    duration: '2h',
    priceLabel: 'à partir de 65€/pers'
  }
];

const faqs = [
  {
    question: 'Quelle capacité pour un événement entreprise ?',
    answer: 'La location entreprise est prévue pour des groupes jusqu’à 12 personnes.'
  },
  {
    question: 'Que comprend la location du lieu ?',
    answer: 'Location journée/soirée avec pauses café/thé, eau plate et pétillante, et collations.'
  },
  {
    question: 'Quelles activités peut-on ajouter ?',
    answer: 'Ateliers culinaires, balade comestible et conférence sur l’alimentation santé.'
  }
];

const pageDescription = 'Privatisation de lieu pour entreprise à Wavre: réunions, team building et événements dans un cadre chaleureux proche de la E411.';
const serviceJsonLd = {
  "@context": "https://schema.org",
  "@type": "Service",
  "name": "Privatisation entreprise à Wavre",
  "serviceType": "Privatisation de lieu et événements d'entreprise",
  "description": pageDescription,
  "provider": {
    "@type": "Organization",
    "name": "Gastronomade"
  },
  "areaServed": [
    { "@type": "City", "name": "Wavre" },
    { "@type": "City", "name": "Louvain-la-Neuve" },
    { "@type": "City", "name": "Bruxelles" }
  ],
  "offers": serviceOffers.map((offer) => ({
    "@type": "Offer",
    "name": offer.name,
    "priceCurrency": "EUR",
    "price": offer.price,
    "description": `${offer.scope} (${offer.priceSuffix})`,
    "url": "https://murielcruysmans.com/privatisation-entreprise-wavre/"
  }))
};
const faqJsonLd = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map((item) => ({
    "@type": "Question",
    "name": item.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": item.answer
    }
  }))
};
---

<MainLayout
  title="Privatisation entreprise à Wavre | Gastronomade"
  description={pageDescription}
  jsonLd={[serviceJsonLd, faqJsonLd]}
>
  <PageHero
    hero={companyLocation?.hero}
    updatedAtIso={companyLocation?._updatedAt}
    defaultVariant="simple"
    defaultKicker="Entreprise"
    defaultTitle="Privatisation d’un lieu d’entreprise à Wavre"
    defaultSubtitle="Un cadre naturel et chaleureux pour vos réunions et team buildings."
    defaultCtaCount={1}
    defaultPrimaryCtaLabel="Demander un devis"
    defaultPrimaryCtaUrl="/contact?need=entreprise"
    sectionClass="bg-white"
  />

  <Section class="bg-white" containerClass="max-w-4xl">
    <div class="space-y-5" slot="content">
      <h2 class="mv-section-title">Tarifs et infos clés</h2>
      <p class="text-sm text-mv-forest-70">
        Tarifs de référence pour vos réunions et team buildings à Wavre.
      </p>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        {serviceOffers.map((offer) => (
          <article class="mv-card p-5">
            <p class="text-xs uppercase tracking-[0.16em] text-mv-forest-60">{offer.name}</p>
            <p class="mt-2 text-2xl font-serif font-bold text-mv-forest">À partir de {offer.price}€</p>
            <p class="text-xs text-mv-forest-60">{offer.priceSuffix}</p>
            <p class="mt-2 text-sm text-mv-forest-80">{offer.scope}</p>
          </article>
        ))}
      </div>
      <div class="rounded-2xl border border-mv-leaf-20 bg-mv-cream p-5">
        <h3 class="text-lg font-semibold text-mv-forest">Activités en option</h3>
        <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-3">
          {activityOffers.map((offer) => (
            <div class="rounded-xl border border-mv-leaf-20 bg-white p-3">
              <p class="text-xs uppercase tracking-[0.16em] text-mv-forest-60">{offer.name}</p>
              <p class="mt-1 text-sm text-mv-forest-70">Durée: {offer.duration}</p>
              <p class="mt-1 text-lg font-serif font-bold text-mv-forest">{offer.priceLabel}</p>
            </div>
          ))}
        </div>
      </div>

      <div class="rounded-2xl border border-mv-leaf-20 bg-mv-cream p-5">
        <h3 class="text-lg font-semibold text-mv-forest">Pourquoi ce lieu ?</h3>
        <div class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3">
          {placeHighlights.map((item) => (
            <div class="rounded-xl border border-mv-leaf-20 bg-white p-3">
              <p class="text-sm font-semibold text-mv-forest">{item.title}</p>
              <p class="mt-1 text-xs sm:text-sm text-mv-forest-80">{item.text}</p>
            </div>
          ))}
        </div>
      </div>

      <div class="rounded-2xl border border-mv-leaf-20 bg-mv-cream p-5">
        <h3 class="text-lg font-semibold text-mv-forest">Lancer votre demande</h3>
        <p class="mt-2 text-sm text-mv-forest-80">Réponse rapide avec proposition de format, restauration et activités adaptées.</p>
        <div class="mt-4 flex flex-wrap gap-3">
          <a href="/contact?need=entreprise" class="mv-btn mv-btn-primary bg-mv-forest text-mv-cream">Demander un devis</a>
          <a href="/auteur" class="mv-btn mv-btn-secondary border-mv-forest text-mv-forest hover:bg-mv-forest hover:text-mv-cream">Voir références & parcours</a>
        </div>
      </div>
    </div>
  </Section>

  <Section class="bg-mv-cream" containerClass="max-w-4xl">
    <div class="space-y-4" slot="content">
      <h2 class="mv-section-title">FAQ</h2>
      {faqs.map((faq) => (
        <article class="mv-card p-5">
          <h3 class="text-lg font-semibold text-mv-forest">{faq.question}</h3>
          <p class="mt-2 text-mv-forest-80">{faq.answer}</p>
        </article>
      ))}
    </div>
  </Section>
</MainLayout>
